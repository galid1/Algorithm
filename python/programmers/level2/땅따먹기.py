def solution(land):
    m = [[0 for i in range(4)] for j in range(len(land))]
    m[0][0] = land[0][0]
    m[0][1] = land[0][1]
    m[0][2] = land[0][2]
    m[0][3] = land[0][3]

    for i in range(1, len(land)):
        m[i][0] = max(m[i-1][1], m[i-1][2], m[i-1][3]) + land[i][0]
        m[i][1] = max(m[i-1][0], m[i-1][2], m[i-1][3]) + land[i][1]
        m[i][2] = max(m[i-1][0], m[i-1][1], m[i-1][3]) + land[i][2]
        m[i][3] = max(m[i-1][0], m[i-1][1], m[i-1][2]) + land[i][3]

    answer = max(m[len(land) - 1])
    return answer


# solution([[1,2,3,5],[5,6,7,8],[4,3,2,1]])
# solution([[3,2,1,4], [1,1,1,1], [2,2,2,2], [3,2,1,3]])
# solution([[1,1,1,1], [1,1,1,1], [1,1,1,1], [1,1,1,1], [1,1,1,1]])
# solution([[1, 2, 3, 5], [10, 11, 12, 11], [16, 15, 13, 13]])
# solution([[1, 100, 15, 3], [1, 2, 3, 4], [100, 99, 98, 97], [97, 98, 99, 100], [4, 3, 2, 1], [100, 100, 100, 100], [1, 1, 1, 1]])
# solution([[1, 2, 3, 5], [5, 6, 7, 8], [4, 3, 2, 1], [100, 0, 9, 8]]) # 115
solution([[1, 2, 3, 4], [5, 6, 7, 9], [4, 3, 2, 1]]) # 16